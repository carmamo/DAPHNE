<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTOS LEPTON: lepton.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="cmsis.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RTOS LEPTON
   &#160;<span id="projectnumber">v0.1.6</span>
   </div>
   <div id="projectbrief">FLIR LEPTON Software Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('lepton_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lepton.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the declarations and prototypes for the lepton thermal imaging module. The <a class="el" href="lepton_8h.html" title="This file contains the declarations and prototypes for the lepton thermal imaging module....">lepton.h</a> file provides the functionality for initializing and communicating with the Lepton thermal imaging module. It includes functions for setting and getting register values, sending and receiving data through I2C, and enabling/disabling vsync and radiometry. This header file is an interface between the application and the Lepton module, providing an easy-to-use way for accessing the module's features.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
Include dependency graph for lepton.h:</div>
<div class="dyncontent">
<div class="center"><img src="lepton_8h__incl.png" border="0" usemap="#lepton_8h" alt=""/></div>
<map name="lepton_8h" id="lepton_8h">
<area shape="rect" title="This file contains the declarations and prototypes for the lepton thermal imaging module...." alt="" coords="99,5,173,32"/>
<area shape="rect" title=" " alt="" coords="5,80,136,107"/>
<area shape="rect" title=" " alt="" coords="160,80,243,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="lepton_8h__dep__incl.png" border="0" usemap="#lepton_8hdep" alt=""/></div>
<map name="lepton_8hdep" id="lepton_8hdep">
<area shape="rect" title="This file contains the declarations and prototypes for the lepton thermal imaging module...." alt="" coords="52,5,127,32"/>
<area shape="rect" href="lepton_8c.html" title="short description of the file ..." alt="" coords="5,80,80,107"/>
<area shape="rect" href="main_8c.html" title=": Main program body" alt="" coords="104,80,171,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlepton__t.html">lepton_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct holds handles for I2C, SPI, CS GPIO and UART communication interfaces.  <a href="structlepton__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvospi__packet.html">vospi_packet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct holds two header values and an array of data.  <a href="structvospi__packet.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlepton__frame.html">lepton_frame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This struct holds an array of <a class="el" href="structvospi__packet.html" title="This struct holds two header values and an array of data.">vospi_packet</a> structures, representing a frame of data.  <a href="structlepton__frame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2401ab53cea655c2d0ee60ea9d542bdc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lepton_8h.html#a2401ab53cea655c2d0ee60ea9d542bdc">PACKET_SIZE_U8</a></td></tr>
<tr class="memdesc:a2401ab53cea655c2d0ee60ea9d542bdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total size of a single frame in bytes.  <a href="lepton_8h.html#a2401ab53cea655c2d0ee60ea9d542bdc">More...</a><br /></td></tr>
<tr class="separator:a2401ab53cea655c2d0ee60ea9d542bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915e7581e140dd2d625fa1cfca365100"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lepton_8h.html#a915e7581e140dd2d625fa1cfca365100">FRAME_HEIGHT</a></td></tr>
<tr class="memdesc:a915e7581e140dd2d625fa1cfca365100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Height of a single frame in pixels.  <a href="lepton_8h.html#a915e7581e140dd2d625fa1cfca365100">More...</a><br /></td></tr>
<tr class="separator:a915e7581e140dd2d625fa1cfca365100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af193f69a079134ae165cc495b9b62d70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lepton_8h.html#af193f69a079134ae165cc495b9b62d70">FRAME_WIDTH</a></td></tr>
<tr class="memdesc:af193f69a079134ae165cc495b9b62d70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Width of a single frame in pixels.  <a href="lepton_8h.html#af193f69a079134ae165cc495b9b62d70">More...</a><br /></td></tr>
<tr class="separator:af193f69a079134ae165cc495b9b62d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae92e9828a8085c35a998f1435f3451e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lepton_8h.html#ae92e9828a8085c35a998f1435f3451e4">LEPTON_I2C_ADDR</a></td></tr>
<tr class="memdesc:ae92e9828a8085c35a998f1435f3451e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The I2C address of the Lepton module.  <a href="lepton_8h.html#ae92e9828a8085c35a998f1435f3451e4">More...</a><br /></td></tr>
<tr class="separator:ae92e9828a8085c35a998f1435f3451e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad6c6a6807a047b7aa526af724b8c1611"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#gad6c6a6807a047b7aa526af724b8c1611">lepton_Init</a> (I2C_HandleTypeDef *i2c, SPI_HandleTypeDef *spi, UART_HandleTypeDef *uart, GPIO_TypeDef *port, uint16_t pin)</td></tr>
<tr class="memdesc:gad6c6a6807a047b7aa526af724b8c1611"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Lepton module with the given handles and GPIO information.  <a href="group__Lepton.html#gad6c6a6807a047b7aa526af724b8c1611">More...</a><br /></td></tr>
<tr class="separator:gad6c6a6807a047b7aa526af724b8c1611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5964f882759205a52e916c51321937f"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#gae5964f882759205a52e916c51321937f">lepton_SetReg</a> (uint8_t reg)</td></tr>
<tr class="memdesc:gae5964f882759205a52e916c51321937f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a register in the Lepton module.  <a href="group__Lepton.html#gae5964f882759205a52e916c51321937f">More...</a><br /></td></tr>
<tr class="separator:gae5964f882759205a52e916c51321937f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2565ce4fdef6c443eded1123901b44c4"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#ga2565ce4fdef6c443eded1123901b44c4">lepton_GetReg</a> (uint16_t reg, uint16_t *rxdata)</td></tr>
<tr class="memdesc:ga2565ce4fdef6c443eded1123901b44c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the value of a register in the Lepton module.  <a href="group__Lepton.html#ga2565ce4fdef6c443eded1123901b44c4">More...</a><br /></td></tr>
<tr class="separator:ga2565ce4fdef6c443eded1123901b44c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62e8088af898afaad5a9ebc4ebdc8554"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#ga62e8088af898afaad5a9ebc4ebdc8554">lepton_SetData</a> (uint8_t *txdata, uint16_t size)</td></tr>
<tr class="memdesc:ga62e8088af898afaad5a9ebc4ebdc8554"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets data in the Lepton module.  <a href="group__Lepton.html#ga62e8088af898afaad5a9ebc4ebdc8554">More...</a><br /></td></tr>
<tr class="separator:ga62e8088af898afaad5a9ebc4ebdc8554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26f55af0767386cf057819fb6e37a0cf"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#ga26f55af0767386cf057819fb6e37a0cf">lepton_GetData</a> (uint16_t *rxdata, uint16_t size)</td></tr>
<tr class="memdesc:ga26f55af0767386cf057819fb6e37a0cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets data from the Lepton module.  <a href="group__Lepton.html#ga26f55af0767386cf057819fb6e37a0cf">More...</a><br /></td></tr>
<tr class="separator:ga26f55af0767386cf057819fb6e37a0cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe21bec2f31770d2a0b127f038b2cd07"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#gabe21bec2f31770d2a0b127f038b2cd07">lepton_command</a> (uint16_t cmd)</td></tr>
<tr class="memdesc:gabe21bec2f31770d2a0b127f038b2cd07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a command to the Lepton module.  <a href="group__Lepton.html#gabe21bec2f31770d2a0b127f038b2cd07">More...</a><br /></td></tr>
<tr class="separator:gabe21bec2f31770d2a0b127f038b2cd07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd0386ab8032eec7d4f52121caad75f0"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#gacd0386ab8032eec7d4f52121caad75f0">lepton_radiometry</a> (bool rad_enabled)</td></tr>
<tr class="memdesc:gacd0386ab8032eec7d4f52121caad75f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the radiometry mode on the Lepton module.  <a href="group__Lepton.html#gacd0386ab8032eec7d4f52121caad75f0">More...</a><br /></td></tr>
<tr class="separator:gacd0386ab8032eec7d4f52121caad75f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed5e2c854553ac9aad9f835563ffb395"><td class="memItemLeft" align="right" valign="top">HAL_StatusTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#gaed5e2c854553ac9aad9f835563ffb395">lepton_vsync</a> (bool vsync_enabled)</td></tr>
<tr class="memdesc:gaed5e2c854553ac9aad9f835563ffb395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the vsync mode on the Lepton module.  <a href="group__Lepton.html#gaed5e2c854553ac9aad9f835563ffb395">More...</a><br /></td></tr>
<tr class="separator:gaed5e2c854553ac9aad9f835563ffb395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae697bf12e5d22e568bf2fbed6bd15390"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#gae697bf12e5d22e568bf2fbed6bd15390">send_byte</a> (uint8_t data)</td></tr>
<tr class="memdesc:gae697bf12e5d22e568bf2fbed6bd15390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a single byte of data over the specified communication interface.  <a href="group__Lepton.html#gae697bf12e5d22e568bf2fbed6bd15390">More...</a><br /></td></tr>
<tr class="separator:gae697bf12e5d22e568bf2fbed6bd15390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc3116427369cf3d1bdf6c7ed788ef4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Lepton.html#gadc3116427369cf3d1bdf6c7ed788ef4d">send_msg</a> (int data)</td></tr>
<tr class="memdesc:gadc3116427369cf3d1bdf6c7ed788ef4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to send a message over the UART interface. This function sends the integer data in string format over the UART interface with a line feed and carriage return appended at the end. The UART transmission is done using the HAL_UART_Transmit function with a timeout of 100ms.  <a href="group__Lepton.html#gadc3116427369cf3d1bdf6c7ed788ef4d">More...</a><br /></td></tr>
<tr class="separator:gadc3116427369cf3d1bdf6c7ed788ef4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Carlos Martinez Mora (<a href="#" onclick="location.href='mai'+'lto:'+'car'+'ma'+'mo.'+'95'+'@gm'+'ai'+'l.c'+'om'; return false;">carma<span style="display: none;">.nosp@m.</span>mo.9<span style="display: none;">.nosp@m.</span>5@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Nov 23, 2022 </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Please make sure to read the Lepton datasheet for further information on the communication protocol and the module's features. The code is provided "as is" and the author is not responsible for any errors The or damages that may occur from its use. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a915e7581e140dd2d625fa1cfca365100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a915e7581e140dd2d625fa1cfca365100">&#9670;&nbsp;</a></span>FRAME_HEIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRAME_HEIGHT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af193f69a079134ae165cc495b9b62d70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af193f69a079134ae165cc495b9b62d70">&#9670;&nbsp;</a></span>FRAME_WIDTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FRAME_WIDTH</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae92e9828a8085c35a998f1435f3451e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae92e9828a8085c35a998f1435f3451e4">&#9670;&nbsp;</a></span>LEPTON_I2C_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEPTON_I2C_ADDR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2401ab53cea655c2d0ee60ea9d542bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2401ab53cea655c2d0ee60ea9d542bdc">&#9670;&nbsp;</a></span>PACKET_SIZE_U8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PACKET_SIZE_U8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_e2489e887f17afa3cbc07a4ec152cdd2.html">Inc</a></li><li class="navelem"><a class="el" href="lepton_8h.html">lepton.h</a></li>
    <li class="footer">Generated on Tue Feb 7 2023 13:22:34 for RTOS LEPTON by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
